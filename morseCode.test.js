import {decodeBits, decodeMorse, printBinary, binaryRegex, translationToMorse, setTime} from './morseCode.js';

test('testing decodeMors', () => {
    expect(decodeMorse('-----')).toStrictEqual('0');
    expect(decodeMorse('.-')).toStrictEqual('A');
    expect(decodeMorse('--.-')).toStrictEqual('Q');
    expect(decodeMorse('--..--')).toStrictEqual(',');
    expect(decodeMorse('-.-.--')).toStrictEqual('!');
    expect(decodeMorse('.-.-.-')).toStrictEqual('.');
    expect(decodeMorse('--')).toStrictEqual('M');
    expect(decodeMorse('-.')).toStrictEqual('N');
    expect(decodeMorse('---')).toStrictEqual('O');
    expect(decodeMorse('...')).toStrictEqual('S');
    expect(decodeMorse('--..')).toStrictEqual('Z');
});

test('testing basic bit decoding', () => {
    expect(decodeMorse(decodeBits('1'))).toStrictEqual('E');
    expect(decodeMorse(decodeBits('101'))).toStrictEqual('I');
    expect(decodeMorse(decodeBits('10001'))).toStrictEqual('EE');
    expect(decodeMorse(decodeBits('10111'))).toStrictEqual('A');
    expect(decodeMorse(decodeBits('1110111'))).toStrictEqual('M');
});

test('testing multiple bits per dot handling', () => {
    expect(decodeMorse(decodeBits('111'))).toStrictEqual('E');
    expect(decodeMorse(decodeBits('1111111'))).toStrictEqual('E');
    expect(decodeMorse(decodeBits('110011'))).toStrictEqual('I');
    expect(decodeMorse(decodeBits('111110000011111'))).toStrictEqual('I');
    expect(decodeMorse(decodeBits('11111100111111'))).toStrictEqual('M');
});


test('testing long masseges handling', () => {
    expect(decodeMorse(decodeBits('1100110011001100000011000000111111001100111111001111110000000000000011001111110011111100111111000000110011001111110000001111110011001100000011'))).toStrictEqual('HEY JUDE');
    expect(decodeMorse(decodeBits('00011100010101010001000000011101110101110001010111000101000111010111010001110101110000000111010101000101110100011101110111000101110111000111010000000101011101000111011101110001110101011100000001011101110111000101011100011101110001011101110100010101000000011101110111000101010111000100010111010000000111000101010100010000000101110101000101110001110111010100011101011101110000000111010100011101110111000111011101000101110101110101110'))).toStrictEqual('THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG.');
    expect(decodeMorse(decodeBits('11111111111111100000000000000011111000001111100000111110000011111000000000000000111110000000000000000000000000000000000011111111111111100000111111111111111000001111100000111111111111111000000000000000111110000011111000001111111111111110000000000000001111100000111110000000000000001111111111111110000011111000001111111111111110000011111000000000000000111111111111111000001111100000111111111111111000000000000000000000000000000000001111111111111110000011111000001111100000111110000000000000001111100000111111111111111000001111100000000000000011111111111111100000111111111111111000001111111111111110000000000000001111100000111111111111111000001111111111111110000000000000001111111111111110000011111000000000000000000000000000000000001111100000111110000011111111111111100000111110000000000000001111111111111110000011111111111111100000111111111111111000000000000000111111111111111000001111100000111110000011111111111111100000000000000000000000000000000000111110000011111111111111100000111111111111111000001111111111111110000000000000001111100000111110000011111111111111100000000000000011111111111111100000111111111111111000000000000000111110000011111111111111100000111111111111111000001111100000000000000011111000001111100000111110000000000000000000000000000000000011111111111111100000111111111111111000001111111111111110000000000000001111100000111110000011111000001111111111111110000000000000001111100000000000000011111000001111111111111110000011111000000000000000000000000000000000001111111111111110000000000000001111100000111110000011111000001111100000000000000011111000000000000000000000000000000000001111100000111111111111111000001111100000111110000000000000001111100000111111111111111000000000000000111111111111111000001111111111111110000011111000001111100000000000000011111111111111100000111110000011111111111111100000111111111111111000000000000000000000000000000000001111111111111110000011111000001111100000000000000011111111111111100000111111111111111000001111111111111110000000000000001111111111111110000011111111111111100000111110000000000000001111100000111111111111111000001111100000111111111111111000001111100000111111111111111'))).toStrictEqual('THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG.');
});


test('Extra zeros handling', () => {
    expect(decodeMorse(decodeBits('01110'))).toStrictEqual('E');
    expect(decodeMorse(decodeBits('000000011100000'))).toStrictEqual('E');
});

